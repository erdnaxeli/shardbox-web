<div class="infobox">
  <div class="container">
    <h3>Links</h3>
    <ul>
      <li>Code: <a href="{{ repo.ref.to_uri }}" class="repo.ref-ref repo.ref-ref--{{ repo.ref.resolver }}">{{ icon(repo.ref.resolver) }} {{ repo.ref.url }}</a></li>
      {% set owner = repo.metadata.owner %}
      {% if owner %}
      <li>Owner: <a href="{{ owner.html_url }}"><img src="{{ owner.avatar_url }}" class="avatar avatar--github" /> {{ owner.login }}</a></li>
      {% endif %}
      {% set homepage = release.spec["homepage"] %}
      {% if homepage %}
      <li>Homepage: <a href="{{ homepage }}">{{ homepage | replace("https://", "") | replace("https://", "") }}</a></li>
      {% endif %}
      {% set documentation = release.spec["documentation"] %}
      {% if documentation %}
      <li>Docs: <a href="{{ documentation }}">{{ documentation | replace("https://", "") | replace("https://", "") }}</a></li>
      {% endif %}
    </ul>
  </div>

  <div class="container">
    <h3>Categories</h3>
    {% for category in categories %}
      <a href="/categories/{{ category.slug }}" class="category-link">{{ category.name }}</a>
    {% else %}
      <div class="uncategorized-cta">
        <p>This shard is not yet categorized.</p>
        <a href="/contribute" class="btn help-cta">Help categorize it!</a>
      </div>
    {% endfor %}
  </div>

  {% set topics = repo.metadata.topics %}
  {% if topics %}
    <div class="container">
      <h3>Topics</h3>
      <div class="topics">
        {% for topic in topics %}
          <span class="topic">{{ topic }}</span>
        {% endfor %}
      </div>
    </div>
  {% endif %}

  {% if release.spec.authors %}
    <div class="container">
      <h3>Authors</h3>
      <ul>
      {% for author in release.spec.authors %}
        <li>{{ author | striptags }}</li>
      {% endfor %}
      </ul>
    </div>
  {% endif %}

  <div class="container">
    <h3>Community</h3>

    <div class="community-stats">
      {% set stargazers_count = repo.metadata.stargazers_count %}
      {% if stargazers_count %}
      <span title="Stars">
        {{ stargazers_count }} {{ icon("star") }}
      </span>
      {% endif %}

      {% set forks_count = repo.metadata.forks_count %}
      {% if forks_count %}
      <span title="Forks">
        {{ forks_count }} {{ icon("repo-forked" ) }}
      </span>
      {% endif %}

      {% set open_issues_count = repo.metadata.open_issues_count %}
      {% if open_issues_count %}
      <span title="Open Issues">
        {{ open_issues_count }} {{ icon("issue") }}
      </span>
      {% endif %}
    </div>
  </div>

  <div class="container">
    <h3>License</h3>
    {{ release.license }}
  </div>

  <div class="container">
    <h3>Crystal</h3>
    {{ release.crystal }}
  </div>
</div>

