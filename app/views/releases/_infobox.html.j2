<div class="infobox">
  <pre class="shards-spec"><span class="token key atrule">{{ shard.name }}</span>:
  <span class="token key atrule">{{ repo.ref.resolver }}</span>: {{ repo.ref.url }}
  <span class="token key atrule">version</span>: ~> {{ release.version }}</pre>

  <script>
  shardsSpec = document.querySelectorAll(".shards-spec")
  shardsSpec.forEach(function($elem) {
    $a = document.createElement("a")
    $a.classList.add("copy-code")
    $a.classList.add("btn")
    $a.classList.add("btn-inverted")
    $a.setAttribute("title", "Copy code")
    $a.setAttribute("href", "#copy-code")
    $svg = document.createElementNS("http://www.w3.org/2000/svg", "svg")
    $svg.classList.add("icon")
    $use = document.createElementNS("http://www.w3.org/2000/svg", "use")
    $use.setAttribute("href", "#icon-copy")
    $svg.append($use)
    $a.append($svg)
    $elem.append($a)
    console.log($elem)
    console.log($svg)

    $svg.addEventListener("click", function(event){
      console.log($elem)
      selection = window.getSelection();
      selection.removeAllRanges();
      selection.selectAllChildren($elem);
      document.execCommand("copy");
      $elem.classList.add("copied")
      selection.removeAllRanges();
      setTimeout(function(){
        $elem.classList.remove("copied");
      }, 1000);
    })
  })
  </script>

  {% if release.spec.authors %}
    <div class="container">
      <h3>{{ icon("person") }} Authors</h3>
      <ul>
      {% for author in release.spec.authors %}
        <li>{{ author | striptags }}</li>
      {% endfor %}
      </ul>
    </div>
  {% endif %}

  <div class="container">
    <h3>{{ icon("law") }} License</h3>
    {{ release.license }}
  </div>

  <div class="container">
    <h3>{{ icon("crystal") }} Crystal</h3>
    {{ release.crystal }}
  </div>

  {% include "releases/_dependencies.html.j2" %}
</div>

